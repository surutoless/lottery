webpackJsonp([1],{NHnr:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=n("FevL"),e=n("UIuv"),s=n.n(e),i={name:"HelloWorld",data:function(){return{trigger:!1,showInput:!1,userString:"",snackbar:!1,random_name:"",avatar:"",roll_success:!1}},computed:{userArr:function(){return""===this.userString.trim()?[]:this.userString.split(/[,|，]/)}},mounted:function(){this.preloadAvatarImages()},methods:{preloadAvatarImages:function(){var t=new Array(10).fill(void 0).map(function(t,a){return new s.a(function(t,n){var r=new Image;r.onload=function(){return t},r.onerror=function(){return n(a)},r.src="./static/avatar/a"+a+".png"})});s.a.all(t).then(function(){return console.log("all images preload!")}).catch(function(t){return console.log("cannot load ./static/avatar/a"+t+".png")})},open:function(){this.trigger=!this.trigger,this.showInput=!this.showInput},showSnackbar:function(){var t=this;this.snackbar=!0,this.snackTimer&&clearTimeout(this.snackTimer),this.snackTimer=setTimeout(function(){t.snackbar=!1},2e3)},hideSnackbar:function(){this.snackbar=!1,this.snackTimer&&clearTimeout(this.snackTimer)},start_roll:function(){var t=this,a=this.userArr,n=void 0,r=new Date,e=this.userArr.length;if(a.length<1)return this.showSnackbar();this.roll_success=!1,this.showInput=!1,n=setInterval(function(){new Date-r>4e3&&(clearInterval(n),t.roll_success=!0);var a=Math.floor(Math.random()*e);t.random_name=t.userArr[a],t.avatar="./static/avatar/a"+Math.floor(10*Math.random())+".png"},100)}}},o={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{attrs:{id:"world_root"}},[n("mu-appbar",{attrs:{title:"Lottery System"}},[n("mu-icon-button",{attrs:{slot:"left",icon:"all_inclusive"},slot:"left"})],1),t._v(" "),n("div",{staticClass:"add-wrapper"},[n("mu-float-button",{ref:"add_icon",staticClass:"add-float-button",class:{"rotate-90":t.trigger},attrs:{icon:"add"},on:{click:t.open}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"input_wrapper"},[n("mu-text-field",{staticClass:"inp",attrs:{hintText:"请输入抽奖者姓名 以逗号隔开",fullWidth:""},model:{value:t.userString,callback:function(a){t.userString=a},expression:"userString"}}),n("br"),t._v(" "),n("mu-raised-button",{attrs:{label:"确认",primary:"",fullWidth:""},on:{click:t.start_roll}}),t._v(" "),t.snackbar?n("mu-snackbar",{attrs:{message:"抽奖者数量不能为空！",action:"关闭",actionColor:"#7e57c2"},on:{actionClick:t.hideSnackbar,close:t.hideSnackbar}}):t._e()],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showInput,expression:"!showInput"}],staticClass:"show-lucky"},[n("div",{staticClass:"avatar"},[n("img",{class:{"no-blur":t.roll_success},attrs:{src:t.avatar,alt:""}})]),t._v(" "),n("h1",[t._v(t._s(t.random_name))]),t._v(" "),n("p",{staticClass:"con",style:{opacity:t.roll_success?1:0}},[t._v("Congratulations!")])])],1)},staticRenderFns:[]};var l={name:"App",components:{HelloWorld:n("Aizv")(i,o,!1,function(t){n("P5W7")},"data-v-5eb58443",null).exports}},c={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("link",{attrs:{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}}),this._v(" "),a("HelloWorld")],1)},staticRenderFns:[]};var u=n("Aizv")(l,c,!1,function(t){n("nZx5")},null,null).exports,h=(n("hs4R"),n("zWL7")),d=n.n(h);n("WnAx");r.default.use(d.a),r.default.config.productionTip=!1,new r.default({el:"#app",components:{App:u},template:"<App/>"})},P5W7:function(t,a){},WnAx:function(t,a){},nZx5:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.b26c9686a4f75e2a4175.js.map